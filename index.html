<!DOCTYPE html>
<html>
<head>
<title>Prime Tube</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
--bg:#0f0f0f;
--card:#1f1f1f;
--text:#fff;
}

body{
margin:0;
font-family:Arial, sans-serif;
background:var(--bg);
color:var(--text);
}

/* HEADER */
header{
background:#111;
padding:10px;
display:flex;
flex-wrap:wrap;
align-items:center;
justify-content:space-between;
gap:8px;
}

header h2{
margin:0;
font-size:18px;
}

.controls{
display:flex;
flex-wrap:wrap;
gap:6px;
}

input{
padding:8px;
border-radius:4px;
border:none;
}

button{
padding:8px 12px;
border:none;
border-radius:4px;
cursor:pointer;
background:red;
color:white;
font-size:12px;
}

.glow{
background:#0088cc;
box-shadow:0 0 10px #00c3ff;
}

/* LOGIN FULL SCREEN */
#loginSection{
height:100vh;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
gap:10px;
}

#loginSection input{
width:250px;
}

/* VIDEO GRID */
#videos{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
gap:15px;
padding:15px;
}

.video-card{
background:var(--card);
border-radius:8px;
overflow:hidden;
cursor:pointer;
}

.video-card img{
width:100%;
}

.video-card p{
padding:8px;
font-size:14px;
}

/* FULLSCREEN MODAL */
#videoModal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.9);
display:none;
justify-content:center;
align-items:center;
z-index:1000;
}

#videoModal iframe{
width:90%;
height:60%;
}

/* MOBILE MODE */
.mobile #videos{
grid-template-columns:1fr;
}

/* LIGHT MODE */
.light{
--bg:#f2f2f2;
--card:#ffffff;
--text:#000;
}

</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginSection">
<h2>Prime Tube Login</h2>
<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Password">
<button id="signupBtn">Sign Up</button>
<button id="loginBtn">Login</button>
</div>

<!-- MAIN -->
<div id="mainContent" style="display:none;">

<header>
<h2>Prime Tube</h2>

<div class="controls">
<a href="https://t.me/PRIME_X_CHAT2" target="_blank">
<button class="glow">Join Prime X</button>
</a>

<input type="text" id="searchInput" placeholder="Search...">
<button onclick="searchVideos()">Search</button>

<button onclick="setMobile()">Mobile</button>
<button onclick="setDesktop()">Desktop</button>
<button onclick="toggleTheme()">Light/Dark</button>

<button id="logoutBtn">Logout</button>
</div>
</header>

<div id="videos"></div>

</div>

<!-- VIDEO MODAL -->
<div id="videoModal" onclick="closeModal()">
<iframe id="modalFrame" allowfullscreen></iframe>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

const firebaseConfig = {
apiKey: "AIzaSyAJ5A3fVLjRCRtO4nyphy7j7NtgEKWYAd8",
authDomain: "prime-tube-65695.firebaseapp.com",
projectId: "prime-tube-65695",
storageBucket: "prime-tube-65695.firebasestorage.app",
messagingSenderId: "427524700832",
appId: "1:427524700832:web:3b6a0b8f843514c9bee7c5"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

signupBtn.onclick=()=>createUserWithEmailAndPassword(auth,email.value,password.value);
loginBtn.onclick=()=>signInWithEmailAndPassword(auth,email.value,password.value);
logoutBtn.onclick=()=>signOut(auth);

onAuthStateChanged(auth,user=>{
if(user){
loginSection.style.display="none";
mainContent.style.display="block";
loadDefaultVideos();
}else{
loginSection.style.display="flex";
mainContent.style.display="none";
}
});

/* YOUTUBE API */
const API_KEY="AIzaSyB7XGItFXkRNsc_X6zmz8UnF5UyIkhL9cw";

async function loadDefaultVideos(){
searchVideos("Hindi trending songs 2026");
}

window.searchVideos=async function(q){
q=q||searchInput.value;
if(!q) return;
const res=await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=12&q=${q}&key=${API_KEY}`);
const data=await res.json();
videos.innerHTML="";
data.items.forEach(item=>{
videos.innerHTML+=`
<div class="video-card" onclick="openVideo('${item.id.videoId}')">
<img src="${item.snippet.thumbnails.medium.url}">
<p>${item.snippet.title}</p>
</div>
`;
});
};

window.openVideo=function(id){
videoModal.style.display="flex";
modalFrame.src=`https://www.youtube.com/embed/${id}?autoplay=1`;
};

window.closeModal=function(){
videoModal.style.display="none";
modalFrame.src="";
};

window.setMobile=function(){
document.body.classList.add("mobile");
};

window.setDesktop=function(){
document.body.classList.remove("mobile");
};

window.toggleTheme=function(){
document.body.classList.toggle("light");
};

</script>
</body>
</html>
